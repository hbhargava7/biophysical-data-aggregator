<!DOCTYPE html>
<html lang="en">
    <head>
        <title>BDA - Home</title>

        <!-- Viewport Configuration -->
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

        <!-- Bootstrap Core CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">

        <!-- Meta Information -->
        <meta charset='UTF-8'>


        <!-- Cover CSS -->
        <link rel="stylesheet" href="https://getbootstrap.com/docs/4.0/examples/cover/cover.css">

        <style type="text/css">
            html,
            body {

            }
            .beta {
                color: lightslategray;
            }

            .table > tbody > tr > td {
                vertical-align: middle;
            }
        </style>
    </head>

    <body>
        <div class="container">
            <div class="container d-flex h-100 p-3 mx-auto flex-column">
                <header class="masthead mb-auto">
                    <div class="inner">
                        <h3 class="masthead-brand">Biophysical Data Aggregator</h3>
                        <nav class="nav nav-masthead justify-content-center">
                            <a class="nav-link" href="/">Query</a>
                            <a class="nav-link" href="/about">About</a>
                        </nav>
                    </div>
                </header>

                <main role="main" class="inner cover">
                                        <br>
                    <br>
                    <h1 class="cover-heading">Results for {{ query }}.</h1>

                    <p><b>{{summary["numStructures"]}} Structures Reported. The highest resolution structure is {{summary["highResID"]}} with a resolution of {{summary["highResolution"]}} Å.</b></p>
                    
                    <p><b>{{summary["numPapers"]}} publications reported in Cell, Science, and Nature. The most prolific laboratory on this subject appears to be that of {{summary["bestAuthor"]}}.</b></p>

                    <br>
                    <br>
                    <div class="col-md-12">
                        <h3><b>High-Profile Publications.</b></h3>
                        <table class="table table-dark">
                            <thead>
                                <tr>
                                    <th scope="col">Date</th>
                                    <th scope="col">Title</th>
                                    <th scope="col">Lab</th>
                                    <th scope="col">Journal</th>
                                    <th scope="col">Altmetric</th>
                                    <th scope="col">Link</th>

                                </tr>
                            </thead>
                            <tbody id="classTable">
                                {%for val in result%} 
                                <tr>
                                    <td>{{val["Year of Pub"]}}</td>
                                    <td>{{val["Title"]}}</td>
                                    <td>{{val["Senior Author"]}}</td>
                                    <td>{{val["Journal"]}}</td>
                                    <td>{{val["Altmetric Score"]}}</td>
                                    <td> <button class="btn btn-success" onclick="window.open('{{val["Web Link"]}}','_blank')">Link</button></td>
                                </tr>
                                {%endfor%} 
                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-12">
                        <h3><b>Structures.</b></h3>
                        <table class="table table-dark">
                            <thead>
                                <tr>
                                    <th scope="col">Date</th>
                                    <th scope="col">Title</th>
                                    <th scope="col">Author</th>
                                    <th scope="col">Resolution</th>
                                    <th scope="col">Method</th>
                                    <th scope="col">Link</th>
                                </tr>
                            </thead>
                            <tbody id="classTable">
                                {%for val in pdb%} 
                                <tr>
                                    <td>{{val["Date of Deposit"]}}</td>
                                    <td>{{val["Structure ID"]}}</td>
                                    <td>{{val["Author"]}}</td>

                                    <td>{{val["Resolution"]}}Å</td>
                                    <td>{{val["Method Used"]}}</td>
                                    <td> <button class="btn btn-success" onclick="window.open('{{val["Web Link"]}}','_blank')">Link</button></td>
                                </tr>
                                {%endfor%} 
                            </tbody>
                        </table>
                    </div>


                </main>

                <footer class="mastfoot mt-auto">
                    <div class="inner">
                        <p>By Tianna Grant, Adamo Mancino, and Hersh Bhargava @ UCSF iPQB. Copyright 2019.
                        </p>
                    </div>
                </footer>
            </div>



        </div>


        <!-- jquery and Bootstrap Core JS -->
        <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>


    </body>
</html>
